
$page-change-transition: cubic-bezier(0, .8, .6, 1);
$imprint-transition: ease;

// =========================================================================== I M P R I N T


.page {
  filter: blur(0);
  -webkit-filter: blur(0);
}
.imprint-is-active {
  header {
    #header--page-main {
      .word-mark {
        top: -3rem;
      }
      .header-element--left {
        left: -4rem;
      }
      .header-element--right {
        right: -4rem;
      }
    }
    #header--imprint {
      .cross-close-imprint {
        top: 0;
      }
    }
  }
  &.modal-is-active {
    header {
      #header--page-project {
        .header-element--center {
          top: -3rem;
        }
        .header-element--left {
          left: -4rem;
        }
        .header-element--right {
          right: -4rem;
        }
      }
    }
  }
  .page {
    filter: blur(.5rem);
    -webkit-filter: blur(.5rem);
  }
  #imprint {
    transform: translateY(0);
  }
}


// =========================================================================== M A I N P A G E

header {
  .header-element {
    transition:
            top 1s ease,
            left 1s ease,
            right 1s ease,
            opacity 1s ease;
  }
  #header--page-main {
    .word-mark {
      top: 0;
    }
    .header-element--left {
      left: 0;
    }
    .header-element--right {
      right: 0;
    }
  }
  #header--page-project {
    .header-element--center {
      top: -3rem;
    }
    .header-element--left {
      left: -4rem;
    }
    .header-element--right {
      right: -4rem;
    }
  }
  #header--imprint {
    .cross-close-imprint {
      top: -3rem;
    }
  }
}
.page--project {
  z-index: $z-index-page-hidden;
  transform: translateY(25vh) translateX(0);
  opacity: 0;
  transition:
          filter .5s $imprint-transition,
          z-index 0s 1.3s,
          transform 1s $page-change-transition,
          opacity 1s $page-change-transition;
}
#page--main {
  z-index: $z-index-page-visible;

  transition:
          filter .5s $imprint-transition;

  #section--about, #section--footer {
    transform: translateY(0);
    transition: transform 1s $page-change-transition .3s;
  }
  #project-column--right, #project-column--left {
    transform: translateY(0);
    transition: transform 1s $page-change-transition .3s;
  }
}
#imprint {
  transition: transform 1s ease;
  transform: translateY(100vh);
}

// =========================================================================== S U B P A G E

.modal-is-active {
  header {
    #header--page-main {
      .word-mark {
        top: -3rem;
      }
      .header-element--left {
        left: -4rem;
      }
      .header-element--right {
        right: -4rem;
      }
    }
    #header--page-project {
      .header-element--center {
        top: 0;
      }
      .header-element--left {
        left: 0;
      }
      .header-element--right {
        right: 0;
      }
    }
  }

  #page--main {
    z-index: $z-index-page-hidden;
    #section--about, #section--footer {
      transform: translateX(-100vw);
      transition: transform 1s $page-change-transition;
    }
    #project-column--right {
      transform: translateX(50vw);
      transition: transform 1s $page-change-transition;
    }
    #project-column--left {
      transform: translateX(-50vw);
      transition: transform 1s $page-change-transition;
    }
  }

  .page--project {
    transform: translateY(0) translateX(50vw);
    transition:
            filter .5s $imprint-transition,
            z-index 0s,
            transform 1s $page-change-transition .3s,
            opacity 1s $page-change-transition .3s;
  }

  @each $subpage in $subpages {
    &.modal--#{$subpage} #page--#{$subpage} {
      z-index: $z-index-page-visible;
      transform: translateY(0) translateX(0);
      opacity: 1;
    }
    $i: index($subpages, $subpage) - 1;
    @if $i < 1 {
      $i: length($subpages);
    }
    &.modal--#{$subpage} #page--#{nth($subpages, $i)} {
      transform: translateY(0) translateX(-50vw);
    }
  }
}